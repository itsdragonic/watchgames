<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pong Game</title>
    <style>
        body {
            margin: 0;
            background-color: #000;
            font-family: Arial, sans-serif;
            overflow: hidden; /* Prevent scrolling */
        }

        .paddle {
            position: absolute;
            width: 20px;
            height: 60px;
            background: #fff;
            border-radius: 10px;
        }

        .paddle-left {
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .paddle-right {
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: red;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <div class="paddle paddle-left"></div>
    <div class="paddle paddle-right"></div>
    <div class="ball"></div>

    <script>
        const ball = document.querySelector('.ball');
        const paddleLeft = document.querySelector('.paddle-left');
        const paddleRight = document.querySelector('.paddle-right');

        const gameWidth = 430;
        const gameHeight = 352;
        const paddleSpeed = 6;
        const ballSpeed = 4;

        let ballX = gameWidth / 2;
        let ballY = gameHeight / 2;
        let ballDX = ballSpeed;
        let ballDY = ballSpeed;

        let rightPaddleY = gameHeight / 2 - 30;
        let leftPaddleY = gameHeight / 2 - 30;

        // Move paddle with scroll
        function handleScroll() {
            let scrollY = window.scrollY;
            let maxScroll = document.body.scrollHeight - window.innerHeight;
            rightPaddleY += (scrollY - maxScroll / 2) * 0.1; // Adjust the scroll sensitivity
            rightPaddleY = Math.max(0, Math.min(gameHeight - 60, rightPaddleY));
            paddleRight.style.top = `${rightPaddleY}px`;
            window.scrollTo(0, maxScroll / 2);
        }

        window.onscroll = handleScroll;

        // AI paddle follows the ball
        function moveAIPaddle() {
            if (ballY < leftPaddleY + 30) {
                leftPaddleY -= paddleSpeed;
            } else if (ballY > leftPaddleY + 30) {
                leftPaddleY += paddleSpeed;
            }
            leftPaddleY = Math.max(0, Math.min(gameHeight - 60, leftPaddleY));
            paddleLeft.style.top = `${leftPaddleY}px`;
        }

        // Ball movement and collision detection
        function moveBall() {
            ballX += ballDX;
            ballY += ballDY;

            // Ball collision with top and bottom walls
            if (ballY <= 0 || ballY >= gameHeight - 20) {
                ballDY *= -1;
            }

            // Ball collision with paddles
            if (
                ballX <= 40 &&
                ballY + 20 >= leftPaddleY &&
                ballY <= leftPaddleY + 60
            ) {
                ballDX *= -1;
            }

            if (
                ballX >= gameWidth - 60 &&
                ballY + 20 >= rightPaddleY &&
                ballY <= rightPaddleY + 60
            ) {
                ballDX *= -1;
            }

            // Ball out of bounds (reset)
            if (ballX <= 0 || ballX >= gameWidth - 20) {
                ballX = gameWidth / 2;
                ballY = gameHeight / 2;
                ballDX *= -1; // Reverse direction
            }

            ball.style.left = `${ballX}px`;
            ball.style.top = `${ballY}px`;
        }

        // Game loop
        function gameLoop() {
            moveAIPaddle();
            moveBall();
            requestAnimationFrame(gameLoop);
        }

        // Initialize game
        window.onload = () => {
            const maxScroll = document.body.scrollHeight - window.innerHeight;
            window.scrollTo(0, maxScroll / 2);
            gameLoop();
        };
    </script>
</body>
</html>
